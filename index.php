<!-- load current theme -->
<?php include_once "load_themes.php" ?>
<!--  -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>OpenHome Control Panel</title>
	<!-- jquery ui css file -->
	<link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css"/> 
	<!--  -->
	<link rel="stylesheet" href="./css/style.css">
	<!-- <link rel="stylesheet" href="css/themes/classic.css" id="theme"> -->

	<!-- theme style test -->
	<?php $themes = get_theme();?>
	<?php foreach($themes as $theme): ?>
		<link rel="stylesheet" href="css/themes/<?=$theme['style']?>.css" id="theme">
	<?php endforeach; ?>
	<!--  -->

</head>

<!-- get data from db -->

<?php
	// $pageName = "mainpage";
	include_once "iframe_url.php";
?>
<?php include_once "load_rooms.php" ?>
<!--  -->

<body>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	<!-- DRAG & DROP LIBRARY -->
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script> -->
	<script src="libs/jquery-ui.1.12.1/jquery-ui.min.js"></script>
	<!-- end -->

	<div class="topline">
		<div class="main_logo">
			<img class="logo" src="img/mainpage_img/orange2.svg" alt="logo">
			<h1 class="main_title">Open Home</h1>
		</div>

		<div class="main_mnu">
			<div class="add_room_btn__wrapper"></div>
			<div class="add_room">
				<div class="add_room_btn">
					<svg width="25px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						 viewBox="0 0 512.003 512.003" style="enable-background:new 0 0 512.003 512.003;" xml:space="preserve">
							<path d="M489.74,0.001H155.827c-9.22,0-16.696,7.475-16.696,16.696V361.74c0,9.22,7.475,16.696,16.696,16.696H489.74
								c9.22,0,16.696-7.475,16.696-16.696V16.696C506.436,7.476,498.961,0.001,489.74,0.001z M473.045,133.566h-50.087
								c-9.22,0-16.696,7.475-16.696,16.696s7.475,16.696,16.696,16.696h50.087v178.087H261.566v-50.087
								c0-9.22-7.475-16.696-16.696-16.696s-16.696,7.475-16.696,16.696v50.087h-55.652V33.392h55.652v183.652
								c0,9.22,7.475,16.696,16.696,16.696s16.696-7.475,16.696-16.696v-50.087h83.478c9.22,0,16.696-7.475,16.696-16.696
								s-7.475-16.696-16.696-16.696h-83.478V33.392h211.478V133.566z"/>
							<path d="M501.543,450.105l-33.388-33.389c-6.519-6.52-17.091-6.52-23.611,0s-6.52,17.091,0,23.611l4.89,4.891H129.351l4.89-4.891
								c6.52-6.519,6.52-17.09,0.001-23.61c-6.519-6.52-17.091-6.52-23.611,0l-33.388,33.389c-6.565,6.558-6.452,17.171,0,23.617
								l33.388,33.389c6.519,6.52,17.091,6.521,23.611,0c6.52-6.52,6.52-17.091,0-23.611l-4.891-4.892h320.082l-4.89,4.891
								c-6.52,6.52-6.52,17.091,0,23.611c6.519,6.52,17.091,6.521,23.611,0l33.388-33.389
								C508.053,467.218,508.038,456.593,501.543,450.105z"/>
							<path d="M77.24,349.935l-4.891,4.89V57.003l4.891,4.89c6.519,6.52,17.091,6.521,23.611,0c6.52-6.519,6.521-17.091,0-23.611
								L67.459,4.89c-6.519-6.52-17.091-6.52-23.611,0L10.457,38.281c-6.52,6.519-6.521,17.091,0,23.611c6.519,6.52,17.091,6.52,23.611,0
								l4.89-4.89v297.821l-4.89-4.89c-6.519-6.52-17.091-6.52-23.611,0c-6.52,6.519-6.521,17.091,0,23.611l33.391,33.391
								c6.519,6.52,17.091,6.521,23.611,0l33.391-33.391c6.52-6.519,6.521-17.091,0-23.611C94.332,343.415,83.76,343.415,77.24,349.935z"/>
					</svg>
				</div>
				<div class="add_room__open popup_block">
					<form action="create_room.js" id="createRoomForm">
						<h3 class="add_room__header">Create Room</h3>
						<label for="roomName">Room Name</label><br>
						<input type="text" 
							class="create_room_input class_input" 
							placeholder="kitchen" 
							id="roomName" 
							required 
							maxlength="20">

						<br><br>

						<label class="create_room_label">Icon</label>
						<br>
						<!-- 1 -->
						<input class="room_type_radio" type="radio" name="room_type" id="livingroom" checked value="livingroom_1">
						<label class="room_type_label" for="livingroom">
							<svg width="30px" viewBox="0 -26 512.00046 512" xmlns="http://www.w3.org/2000/svg">
								<path d="m470.632812 242.773438h-11.773437v-91.710938h38.140625c4.597656 0 8.945312-2.109375 11.789062-5.726562 2.84375-3.613282 3.871094-8.332032 2.789063-12.800782l-22.933594-94.816406c-1.628906-6.730469-7.65625-11.472656-14.582031-11.472656h-60.410156c-6.925782 0-12.949219 4.742187-14.578125 11.472656l-22.9375 94.816406c-1.082031 4.46875-.050781 9.1875 2.792969 12.800782 2.84375 3.617187 7.1875 5.726562 11.789062 5.726562h38.140625v35.988281c-6.851563-4.21875-14.910156-6.660156-23.53125-6.660156h-298.660156c-24.8125 0-45 20.1875-45 45v17.382813h-20.300781c-22.808594 0-41.367188 18.558593-41.367188 41.367187v135.421875c0 22.8125 18.558594 41.371094 41.367188 41.371094h429.265624c22.808594 0 41.367188-18.558594 41.367188-41.371094v-135.421875c0-22.808594-18.558594-41.367187-41.367188-41.367187zm-429.265624 188.160156c-6.265626 0-11.367188-5.101563-11.367188-11.371094v-135.421875c0-6.269531 5.101562-11.367187 11.367188-11.367187h53.546874c6.269532 0 11.367188 5.097656 11.367188 11.367187v135.421875c0 6.269531-5.097656 11.371094-11.367188 11.371094zm65.300781-220.542969h298.664062c8.269531 0 15 6.730469 15 15v17.382813h-3.246093c-22.8125 0-41.367188 18.558593-41.367188 41.367187v52.710937h-239.4375v-52.710937c0-22.808594-18.558594-41.367187-41.367188-41.367187h-3.246093v-17.382813c0-8.269531 6.730469-15 15-15zm29.613281 209.171875v-52.710938h239.4375v52.710938c0 3.945312.566406 7.753906 1.601562 11.371094h-242.640624c1.035156-3.617188 1.601562-7.425782 1.601562-11.371094zm269.4375 0v-135.421875c0-6.269531 5.097656-11.367187 11.367188-11.367187h53.546874c6.265626 0 11.367188 5.097656 11.367188 11.367187v135.421875c0 6.269531-5.101562 11.371094-11.367188 11.371094h-53.546874c-6.269532 0-11.367188-5.101563-11.367188-11.371094zm56.539062-363.316406 15.679688 64.8125h-68.160156l15.679687-64.8125zm0 0"/>
								<path d="m34.085938 131.320312h253.859374c8.285157 0 15-6.714843 15-15v-101.320312c0-8.285156-6.714843-15-15-15h-253.859374c-8.285157 0-15 6.714844-15 15v101.320312c0 8.285157 6.714843 15 15 15zm15-101.320312h223.859374v71.320312h-223.859374zm0 0"/>
							</svg>
						</label>

						<!-- 2 -->
						<input class="room_type_radio" type="radio" name="room_type" id="kitchen" value="kitchen_1">
						<label class="room_type_label" for="kitchen">
							<svg width="30px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
								 viewBox="0 0 480 480" style="enable-background:new 0 0 480 480;" xml:space="preserve">
										<path d="M472,104H296c-4.418,0-8,3.582-8,8v192h-40v-8h8c4.418,0,8-3.582,8-8s-3.582-8-8-8h-80c-4.418,0-8,3.582-8,8s3.582,8,8,8
											h8v8h-80v-8h8c4.418,0,8-3.582,8-8s-3.582-8-8-8H32c-4.418,0-8,3.582-8,8s3.582,8,8,8h8v8H8c-4.418,0-8,3.582-8,8v160
											c0,4.418,3.582,8,8,8h464c4.418,0,8-3.582,8-8V112C480,107.582,476.418,104,472,104z M200,296h32v8h-32V296z M56,296h32v8H56V296
											z M128,464H16v-96h112V464z M128,352H16v-32h112V352z M288,464H144V320h144V464z M464,464H304V248h160V464z M464,232H304V120h160
											V232z"/>
										<path d="M168,448h96c4.418,0,8-3.582,8-8v-96c0-4.418-3.582-8-8-8h-96c-4.418,0-8,3.582-8,8v96C160,444.418,163.582,448,168,448z
											 M176,352h80v80h-80V352z"/>
										<path d="M320,224c4.418,0,8-3.582,8-8v-32c0-4.418-3.582-8-8-8s-8,3.582-8,8v32C312,220.418,315.582,224,320,224z"/>
										<path d="M320,304c4.418,0,8-3.582,8-8v-32c0-4.418-3.582-8-8-8s-8,3.582-8,8v32C312,300.418,315.582,304,320,304z"/>
										<path d="M18.86,142.14c1.442,1.204,3.261,1.862,5.14,1.86h240c4.418,0.006,8.005-3.57,8.012-7.988
											c0.003-1.878-0.656-3.698-1.86-5.14l-80-96c-1.523-1.823-3.777-2.875-6.152-2.872h-8V8c0-4.418-3.582-8-8-8h-48
											c-4.418,0-8,3.582-8,8v24h-8c-2.375-0.003-4.629,1.049-6.152,2.872l-80,96C15.016,134.263,15.469,139.308,18.86,142.14z M128,16
											h32v16h-32V16z M107.752,48h72.496l66.672,80H41.08L107.752,48z"/>
							</svg>
						</label>
						
						<!-- 3 -->
						<input class="room_type_radio" type="radio" name="room_type" id="bathroom" value="bathroom_1">
						<label class="room_type_label" for="bathroom">
							<svg width="30px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
								 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
									<path d="M480,170.667h-10.667v-64c0-23.531-19.135-42.667-42.667-42.667S384,83.135,384,106.646l-0.021,10.688
										c-0.01,5.896,4.75,10.677,10.646,10.688c0.01,0,0.01,0,0.01,0c5.896,0,10.667-4.76,10.677-10.646l0.021-10.708
										c0-11.76,9.573-21.333,21.333-21.333S448,94.906,448,106.667v64H32c-17.646,0-32,14.354-32,32
										c0,13.888,8.944,25.617,21.333,30.035v33.965c0,48.961,25.574,91.979,64,116.66v54.007C85.333,443.229,90.104,448,96,448h21.333
										c4.042,0,7.729-2.281,9.542-5.896l18.764-37.52c4.723,0.488,9.512,0.749,14.361,0.749h192c4.849,0,9.638-0.26,14.361-0.749
										l18.764,37.52c1.813,3.615,5.5,5.896,9.542,5.896H416c5.896,0,10.667-4.771,10.667-10.667v-54.007
										c38.426-24.681,64-67.699,64-116.66v-33.965C503.056,228.284,512,216.555,512,202.667C512,185.021,497.646,170.667,480,170.667z
										 M128,192h106.667v104.74L128,278.969V192z M21.333,202.667C21.333,196.781,26.115,192,32,192h74.667v21.333H32
										C26.115,213.333,21.333,208.552,21.333,202.667z M110.74,426.667h-4.073v-32.033c5.549,2.322,11.327,4.168,17.212,5.76
										L110.74,426.667z M405.333,426.667h-4.073l-13.139-26.272c5.884-1.592,11.663-3.439,17.212-5.76V426.667z M469.333,266.667
										C469.333,331.365,416.698,384,352,384H160c-64.698,0-117.333-52.635-117.333-117.333v-32h64V288c0,5.219,3.771,9.667,8.917,10.521
										l128,21.333c0.583,0.094,1.167,0.146,1.75,0.146c2.51,0,4.958-0.885,6.896-2.531c2.396-2.021,3.771-5,3.771-8.135v-74.667h213.333
										V266.667z M480,213.333H256V192h224c5.885,0,10.667,4.781,10.667,10.667C490.667,208.552,485.885,213.333,480,213.333z"/>
							</svg>
						</label>
						
						<!-- 4 -->
						<input class="room_type_radio" type="radio" name="room_type" id="garage" value="garage_1">
						<label class="room_type_label" for="garage">
							<svg width="30px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" 
								xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 316.324 316.323" style="enable-background:new 0 0 316.324 316.323;"
								 xml:space="preserve">
									<path d="M259.337,155.958l-15.143-53.331c-0.736-2.62-2.783-4.662-5.403-5.4c-26.44-7.427-53.907-11.192-81.631-11.192
										c-47.314,0-78.777,10.885-80.098,11.347c-2.396,0.843-4.232,2.804-4.92,5.251l-14.959,53.342
										c-11.987,0.322-21.632,10.176-21.632,22.236v61.428c0,12.264,9.986,22.252,22.251,22.252h2.234v9.664
										c0,12.268,9.986,22.251,22.252,22.251h4.819c12.268,0,22.251-9.983,22.251-22.251v-9.664h100.026v9.664
										c0,12.268,9.983,22.251,22.251,22.251h4.819c12.269,0,22.252-9.983,22.252-22.251v-9.664h0.63
										c12.268,0,22.257-9.988,22.257-22.252V178.21C281.594,165.941,271.611,155.958,259.337,155.958z M265.995,239.638
										c0,3.667-2.986,6.652-6.657,6.652h-8.43c-4.307,0-7.8,3.494-7.8,7.8v17.464c0,3.666-2.986,6.651-6.652,6.651h-4.819
										c-3.666,0-6.651-2.985-6.651-6.651V254.09c0-4.306-3.494-7.8-7.8-7.8H101.554c-4.306,0-7.8,3.494-7.8,7.8v17.464
										c0,3.666-2.986,6.651-6.652,6.651h-4.819c-3.667,0-6.652-2.985-6.652-6.651V254.09c0-4.306-3.494-7.8-7.8-7.8H57.797
										c-3.667,0-6.652-2.985-6.652-6.652V178.21c0-3.666,2.986-6.652,6.652-6.652h5.299c3.499,0,6.566-2.325,7.508-5.697l15.412-54.938
										c9.392-2.734,35.609-9.288,71.145-9.288c24.829,0,49.437,3.184,73.206,9.466l15.361,54.761c0.944,3.366,4.012,5.697,7.511,5.697
										h6.099c3.671,0,6.657,2.986,6.657,6.652V239.638z"/>
									<path d="M85.896,186.065c-13.269,0-24.059,10.791-24.059,24.064c0,13.269,10.791,24.06,24.059,24.06
										c13.271,0,24.06-10.791,24.06-24.06C109.956,196.856,99.167,186.065,85.896,186.065z M85.896,218.59
										c-4.664,0-8.459-3.788-8.459-8.46s3.791-8.465,8.459-8.465c4.669,0,8.46,3.793,8.46,8.465S90.565,218.59,85.896,218.59z"/>
									<path d="M230.428,186.065c-13.269,0-24.06,10.791-24.06,24.064c0,13.269,10.791,24.06,24.06,24.06
										c13.273,0,24.06-10.791,24.06-24.06C254.488,196.856,243.702,186.065,230.428,186.065z M230.428,218.59
										c-4.661,0-8.46-3.788-8.46-8.46s3.793-8.465,8.46-8.465c4.672,0,8.46,3.793,8.46,8.465S235.1,218.59,230.428,218.59z"/>
									<path d="M89.408,172.146h137.512c2.381,0,4.636-1.087,6.108-2.945c1.483-1.868,2.031-4.306,1.488-6.621l-8.876-37.999
										c-0.655-2.785-2.773-4.996-5.535-5.75c-18.778-5.131-39.105-7.731-60.396-7.731c-36.165,0-62.481,7.446-63.589,7.762
										c-2.709,0.782-4.796,2.971-5.441,5.725l-8.871,38.003c-0.541,2.311,0.007,4.753,1.488,6.617
										C84.779,171.06,87.026,172.146,89.408,172.146z M104.794,132.752c8.604-2.009,29.196-6.058,54.916-6.058
										c18.218,0,35.625,2.021,51.813,6.02l5.57,23.836H99.239L104.794,132.752z"/>
									<path d="M312.127,102.805L158.164,22.519L4.197,102.805c-3.816,1.99-5.304,6.703-3.313,10.519
										c1.998,3.829,6.708,5.299,10.521,3.313l146.759-76.527l146.754,76.533c1.157,0.596,2.381,0.883,3.6,0.883
										c2.813,0,5.525-1.523,6.922-4.197C317.429,109.507,315.947,104.795,312.127,102.805z"/>
							</svg>
						</label>
						
						<br><br>

						<input type="submit" name="createRoomButton" value="Add" class="btn create_room_btn">
						<input type="reset" name="cancelCreateRoom" value="Reset" class="btn cancel_room_btn">
					</form>
				</div>
			</div>

			<div class="settings">
				<div class="settings_btn__wrapper" id="settings_wrapper"></div>	
				<div class="settings_btn">
					<svg width="25px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55.634 55.634" style="enable-background:new 0 0 55.634 55.634;" xml:space="preserve">
						<g>
							<path d="M36.583,37.243c0.129-1.356,0.09-2.707-0.106-4.026l3.049-1.359c-0.288-1.477-0.741-2.934-1.369-4.344
								c-0.628-1.409-1.408-2.72-2.312-3.923l-3.051,1.358c-0.849-1.027-1.827-1.959-2.921-2.771l1.196-3.116
								c-1.249-0.84-2.599-1.55-4.04-2.103c-1.435-0.551-2.909-0.932-4.408-1.143l-1.197,3.119c-1.356-0.129-2.707-0.09-4.026,0.106
								l-1.351-3.034c-3.018,0.593-5.838,1.873-8.259,3.702l1.342,3.014c-1.029,0.849-1.961,1.828-2.773,2.921l-3.108-1.192
								c-0.848,1.246-1.559,2.597-2.113,4.037C0.587,29.929,0.211,31.407,0,32.896l3.116,1.196c-0.129,1.356-0.09,2.707,0.106,4.026
								l-3.049,1.358c0.288,1.478,0.741,2.934,1.369,4.344c0.629,1.41,1.408,2.72,2.313,3.923l3.049-1.358
								c0.849,1.028,1.827,1.96,2.922,2.772L8.63,52.275c1.249,0.841,2.599,1.55,4.04,2.103c1.435,0.551,2.909,0.932,4.408,1.143
								l1.197-3.119c1.356,0.128,2.707,0.089,4.026-0.107l1.351,3.033c3.018-0.593,5.84-1.873,8.26-3.702l-1.343-3.014
								c1.028-0.849,1.961-1.827,2.773-2.921l3.106,1.192c0.848-1.246,1.559-2.597,2.113-4.036c0.553-1.44,0.928-2.919,1.139-4.409
								L36.583,37.243z M28.3,38.91c-1.791,4.668-7.026,6.998-11.695,5.207c-4.663-1.79-6.996-7.024-5.206-11.691
								c1.791-4.667,7.026-6.997,11.692-5.208C27.758,29.008,30.09,34.244,28.3,38.91z"/>
						</g>
						<g>
							<path d="M53.465,12.395c0-0.604-0.062-1.195-0.168-1.769l2.337-1.35c-0.566-2.152-1.69-4.079-3.227-5.601l-2.343,1.353
								c-0.894-0.766-1.93-1.366-3.063-1.766V0.559c-1.032-0.283-2.113-0.445-3.232-0.445c-1.119,0-2.199,0.164-3.232,0.445v2.704
								c-1.133,0.4-2.168,1.001-3.063,1.766L35.13,3.676c-1.535,1.522-2.66,3.449-3.227,5.601l2.338,1.35
								c-0.106,0.575-0.169,1.164-0.169,1.769s0.063,1.195,0.169,1.769l-2.338,1.35c0.567,2.152,1.692,4.08,3.227,5.601l2.343-1.353
								c0.895,0.766,1.93,1.366,3.063,1.766v2.704c1.033,0.282,2.113,0.445,3.232,0.445s2.201-0.164,3.232-0.445v-2.704
								c1.133-0.4,2.169-1.001,3.063-1.766l2.343,1.353c1.537-1.522,2.661-3.449,3.227-5.601l-2.337-1.35
								C53.403,13.589,53.465,13,53.465,12.395z M43.77,16.921c-2.5,0-4.527-2.026-4.527-4.525S41.27,7.87,43.77,7.87
								c2.497,0,4.524,2.026,4.524,4.525S46.267,16.921,43.77,16.921z"/>
						</g>
					</svg>
				</div>		
				<div class="settings__open popup_block">
					<form action="css/style_change.js" id="settingsForm">
						<h3 class="settings_header">Settings</h3>
						<!--  -->
						<label class="settings_theme_label">Theme (Reload page after)</label>
						<br><br>
						<!-- 1 -->
						<input 
							class="theme_type_radio" 
							type="radio" 
							name="theme_type" 
							id="classic_theme" 
							value="classic"
							<?php $themes = get_theme();?>
							<?php foreach($themes as $theme): ?>
								<?php if ( $theme['style'] == 'classic' ) {
									echo "checked";
								}?>
							<?php endforeach; ?> >
						<label class="themem_type_label" for="classic_theme">classic</label>

						<br><br>

						<!-- 2 -->
						<input 
							class="theme_type_radio" 
							type="radio" 
							name="theme_type" 
							id="dark_theme" 
							value="dark"
							<?php $themes = get_theme();?>
							<?php foreach($themes as $theme): ?>
								<?php if ( $theme['style'] == 'dark' ) {
									echo "checked";
								}?>
							<?php endforeach; ?> >
						<label class="themem_type_label" for="dark_theme">dark</label>

						<br><br>

						<!-- 3 -->
						<input 
							class="theme_type_radio" 
							type="radio" 
							name="theme_type" 
							id="light_theme" 
							value="light"
							<?php $themes = get_theme();?>
							<?php foreach($themes as $theme): ?>
								<?php if ( $theme['style'] == 'light' ) {
									echo "checked";
								}?>
							<?php endforeach; ?> >
						<label class="themem_type_label" for="light_theme">light</label>

						<br><br>

						<input type="submit" name="settingsButton" value="Change" class="btn settings_submit">
					</form>
				</div>
			</div>

			<div class="add_block__btn" id="svg_wrapper"></div>
			<div class="add_block">
				<!-- <img src="img/plus.svg" alt="add" width="15px"> -->
				<svg width="15px" height="426.66667pt" viewBox="0 0 426.66667 426.66667" width="426.66667pt" xmlns="http://www.w3.org/2000/svg">
					<path d="m405.332031 192h-170.664062v-170.667969c0-11.773437-9.558594-21.332031-21.335938-21.332031-11.773437 0-21.332031 9.558594-21.332031 21.332031v170.667969h-170.667969c-11.773437 0-21.332031 9.558594-21.332031 21.332031 0 11.777344 9.558594 21.335938 21.332031 21.335938h170.667969v170.664062c0 11.777344 9.558594 21.335938 21.332031 21.335938 11.777344 0 21.335938-9.558594 21.335938-21.335938v-170.664062h170.664062c11.777344 0 21.335938-9.558594 21.335938-21.335938 0-11.773437-9.558594-21.332031-21.335938-21.332031zm0 0"/>
				</svg>
				<div class="add_block__open popup_block">
					<form action="create_frame.js" id="createFrameForm">
						<h3 class="add_block__header">Create frame</h3>
						<label for="frameName">Create Unique FrameID</label><br>
						<input type="text" 
							class="create_frame_input class_input" 
							placeholder="temperature" 
							id="frameName" 
							required 
							maxlength="20"> 

						<br><br>

						<label for="frameIP">Device IP</label><br>
						<input type="text" 
							class="create_frame_input ip_input" 
							placeholder="192.160.0.0" 
							id="frameIP" 
							required 
							pattern="\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b">

						<br><br>
						<!-- input with page_name value -->
						<input type="text" value="mainpage" style="display: none;" id="pageNameVal">
						<!--  -->
						<input type="submit" name="createFrameButton" value="Add" class="btn create_frame_btn">
					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- блоки на главной странице -->
	<div class="bg">
		<div class="content">
			<iframe src="http://192.168.0.102" frameborder="0" id="home_weather" class="weather_frame mainframe preset_frame drag drop ui-widget-content"></iframe>
			<iframe src="http://192.168.0.103" frameborder="0" id="reley" class="reley_frame mainframe preset_frame drag drop ui-widget-content"></iframe>

			<div class="city_weather_frame mainframe preset_frame drag drop ui-widget-content" id="city_weather">
				<div id="weather"></div>
				<img src="img/sun.svg" alt="weath" class="cityWeatherImg">
			</div>

			<div class="sun_position_frame mainframe preset_frame drag drop ui-widget-content" id="sun_position">
				<div class="sun__icons">
					<img src="img/daytime.svg" alt="sunrise" width="40px">
					<img src="img/sunset.svg" alt="sunset" width="40px">
				</div>
				<div id="sun" class="sunstate"></div>
			</div>

			<div class="clock_frame mainframe preset_frame drag drop ui-widget-content" id="clock">
				<svg width="40px" id="Layer_1" enable-background="new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
					<g>
						<g>
							<path d="m512 256c0-3.11-.056-6.208-.165-9.291-4.891-137.081-117.56-246.709-255.835-246.709s-250.944 109.628-255.834 246.709c-.11 3.083-.166 6.181-.166 9.291 0 141.385 131.502 246.71 256 246.71 126.754 0 256-105.325 256-246.71z" fill="#ff5876"/>
							<path d="m256 493.419c-138.273 0-250.922-109.631-255.814-246.71-.111 3.086-.186 6.179-.186 9.291 0 141.385 114.615 256 256 256s256-114.615 256-256c0-3.112-.075-6.205-.185-9.29-4.893 137.079-117.542 246.709-255.815 246.709z" fill="#e6485d"/>
							<path d="m469.419 246.709c-4.864-113.667-98.554-204.327-213.419-204.327s-208.555 90.66-213.419 204.327c-.132 3.081-.001 209.321 213.419 209.321s213.551-206.24 213.419-209.321z" fill="#e4eef9"/>
							<path d="m256 451.037c-114.864 0-208.539-90.662-213.405-204.328-.132 3.082-.213 6.176-.213 9.29 0 117.978 95.64 213.618 213.618 213.618s213.618-95.639 213.618-213.617c0-3.114-.082-6.209-.213-9.29-4.866 113.666-98.541 204.327-213.405 204.327z" fill="#d5e0f2"/>
							<path d="m333.595 181.05c-6.089-6.005-15.893-5.938-21.897.15l-36.334 36.837 3.651 17.537 16.972 5.654 37.759-38.281c6.004-6.088 5.937-15.892-.151-21.897z" fill="#405b6c"/>
							<path d="m234.082 219.447-82.402-73.432c-6.385-5.69-16.172-5.126-21.861 1.259-5.689 6.384-5.126 16.172 1.259 21.861l84.025 74.878 17.509-5.84z" fill="#405b6c"/>
							<path d="m365.636 355.837c-1.758 0-3.524-.595-4.976-1.814l-98.073-82.378c-3.273-2.75-3.699-7.634-.949-10.907 2.75-3.275 7.633-3.7 10.908-.949l98.073 82.379c3.273 2.75 3.699 7.634.949 10.907-1.531 1.823-3.724 2.762-5.932 2.762z" fill="#86dcff"/>
							<path d="m215.103 244.013 14.46 12.886 18.57-6.31-1.007-19.519-13.043-11.623c-9.075 5.453-15.944 14.19-18.98 24.566z" fill="#2d4456"/><path d="m275.363 218.038-12.294 12.464v24.466h19.366l13.552-13.739c-3.724-10.076-11.151-18.349-20.624-23.191z" fill="#2d4456"/>
							<path d="m280.783 246.708c-3.762-10.03-13.439-17.169-24.783-17.169s-21.021 7.139-24.783 17.169c-1.084 2.891-.072 26.462 24.783 26.462s25.867-23.571 24.783-26.462z" fill="#ff5876"/>
							<path d="m256 263.88c-11.344 0-21.017-7.14-24.779-17.17-1.085 2.891-1.682 6.02-1.682 9.29 0 14.614 11.847 26.46 26.46 26.46 14.614 0 26.46-11.847 26.46-26.46 0-3.27-.597-6.399-1.681-9.29-3.761 10.029-13.434 17.17-24.778 17.17z" fill="#e6485d"/>
						</g>
						<g fill="#405b6c">
							<path d="m263.757 93.573v-24.027c0-4.284-3.473-7.757-7.757-7.757s-7.757 3.473-7.757 7.757v24.027c0 4.284 3.472 7.757 7.757 7.757s7.757-3.473 7.757-7.757z"/>
							<path d="m248.243 418.427v24.027c0 4.284 3.472 7.757 7.757 7.757s7.757-3.473 7.757-7.757v-24.027c0-4.284-3.473-7.757-7.757-7.757s-7.757 3.473-7.757 7.757z"/>
							<path d="m442.454 263.757c4.285 0 7.757-3.473 7.757-7.757s-3.473-7.757-7.757-7.757h-24.027c-4.284 0-7.757 3.473-7.757 7.757s3.473 7.757 7.757 7.757z"/>
							<path d="m69.546 248.243c-4.285 0-7.757 3.473-7.757 7.757s3.472 7.757 7.757 7.757h24.027c4.285 0 7.757-3.473 7.757-7.757s-3.473-7.757-7.757-7.757z"/>
						</g>
					</g>
				</svg>
				<div class="clock_frame_text" id="clock_content"></div>
			</div>

			<div class="Db__content_wrapper">
				<!-- DB loaded frames -->
				<div class="frameDb__content">
					<?php $frames = get_frames('mainpage');?>
					<!-- $i - incremented element for unique IDs of resizable elements -->
					<?php $i=0;?> 
					<!--  -->
					<?php foreach($frames as $frame): ?>
						<div class="mainframe resizable_content frame_initial drag" id="resize_<?php echo $i;?>">
							<div class="frame_stat">URL: <b><?=$frame["url"]?></b>  frameID: <b><?=$frame["frameID"]?></b> </div>
							<iframe 
								src="<?=$frame["url"]?>"
								id="<?=$frame["frameID"]?>"
								class="<?=$frame["frameID"]?>_frame mainframe_content ui-widget-content drop" 
								scrolling="no" 
								frameborder="0">Ваш браузер не поддерживает Фреймы</iframe>
								<!-- onload="resizeIframe(this);" - добавить как атрибут iframe--> 
						</div>
						<?php $i++;?>
					<?php endforeach; ?>
				</div>
				<!--end DB load -->


				<!-- ROOMS (loaded from db) -->
				<div class="roomDb__content">
					<?php $rooms = get_rooms();?>
					<!-- $j - incremented element for unique IDs of resizable elements -->
					<?php $j=0;?> 
					<!--  -->
					<?php foreach($rooms as $room): ?>
						<div class="mainroom resizable_content room_initial drag" filename="<?=$room['room_file']?>" id="resize_room_<?php echo $j;?>" style="overflow: hidden;">
							<a href="/data/rooms/<?=$room['room_file']?>" class="mainroom_link"></a>
							<div 
								class="mainroom__content drop ui-widget-content" 
								id="<?=$room['room_id']?>"
								style="height:100%; width:100%;">
								<div class="mainroom__icon">
									<?php if ($room["icon_id"] == "kitchen_1"): ?>
										<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
											 viewBox="0 0 480 480" style="enable-background:new 0 0 480 480;" xml:space="preserve">
													<path d="M472,104H296c-4.418,0-8,3.582-8,8v192h-40v-8h8c4.418,0,8-3.582,8-8s-3.582-8-8-8h-80c-4.418,0-8,3.582-8,8s3.582,8,8,8
														h8v8h-80v-8h8c4.418,0,8-3.582,8-8s-3.582-8-8-8H32c-4.418,0-8,3.582-8,8s3.582,8,8,8h8v8H8c-4.418,0-8,3.582-8,8v160
														c0,4.418,3.582,8,8,8h464c4.418,0,8-3.582,8-8V112C480,107.582,476.418,104,472,104z M200,296h32v8h-32V296z M56,296h32v8H56V296
														z M128,464H16v-96h112V464z M128,352H16v-32h112V352z M288,464H144V320h144V464z M464,464H304V248h160V464z M464,232H304V120h160
														V232z"/>
													<path d="M168,448h96c4.418,0,8-3.582,8-8v-96c0-4.418-3.582-8-8-8h-96c-4.418,0-8,3.582-8,8v96C160,444.418,163.582,448,168,448z
														 M176,352h80v80h-80V352z"/>
													<path d="M320,224c4.418,0,8-3.582,8-8v-32c0-4.418-3.582-8-8-8s-8,3.582-8,8v32C312,220.418,315.582,224,320,224z"/>
													<path d="M320,304c4.418,0,8-3.582,8-8v-32c0-4.418-3.582-8-8-8s-8,3.582-8,8v32C312,300.418,315.582,304,320,304z"/>
													<path d="M18.86,142.14c1.442,1.204,3.261,1.862,5.14,1.86h240c4.418,0.006,8.005-3.57,8.012-7.988
														c0.003-1.878-0.656-3.698-1.86-5.14l-80-96c-1.523-1.823-3.777-2.875-6.152-2.872h-8V8c0-4.418-3.582-8-8-8h-48
														c-4.418,0-8,3.582-8,8v24h-8c-2.375-0.003-4.629,1.049-6.152,2.872l-80,96C15.016,134.263,15.469,139.308,18.86,142.14z M128,16
														h32v16h-32V16z M107.752,48h72.496l66.672,80H41.08L107.752,48z"/>
										</svg>
									<?php elseif ($room["icon_id"] == "livingroom_1"): ?>
										<svg viewBox="0 -26 512.00046 512" xmlns="http://www.w3.org/2000/svg">
											<path d="m470.632812 242.773438h-11.773437v-91.710938h38.140625c4.597656 0 8.945312-2.109375 11.789062-5.726562 2.84375-3.613282 3.871094-8.332032 2.789063-12.800782l-22.933594-94.816406c-1.628906-6.730469-7.65625-11.472656-14.582031-11.472656h-60.410156c-6.925782 0-12.949219 4.742187-14.578125 11.472656l-22.9375 94.816406c-1.082031 4.46875-.050781 9.1875 2.792969 12.800782 2.84375 3.617187 7.1875 5.726562 11.789062 5.726562h38.140625v35.988281c-6.851563-4.21875-14.910156-6.660156-23.53125-6.660156h-298.660156c-24.8125 0-45 20.1875-45 45v17.382813h-20.300781c-22.808594 0-41.367188 18.558593-41.367188 41.367187v135.421875c0 22.8125 18.558594 41.371094 41.367188 41.371094h429.265624c22.808594 0 41.367188-18.558594 41.367188-41.371094v-135.421875c0-22.808594-18.558594-41.367187-41.367188-41.367187zm-429.265624 188.160156c-6.265626 0-11.367188-5.101563-11.367188-11.371094v-135.421875c0-6.269531 5.101562-11.367187 11.367188-11.367187h53.546874c6.269532 0 11.367188 5.097656 11.367188 11.367187v135.421875c0 6.269531-5.097656 11.371094-11.367188 11.371094zm65.300781-220.542969h298.664062c8.269531 0 15 6.730469 15 15v17.382813h-3.246093c-22.8125 0-41.367188 18.558593-41.367188 41.367187v52.710937h-239.4375v-52.710937c0-22.808594-18.558594-41.367187-41.367188-41.367187h-3.246093v-17.382813c0-8.269531 6.730469-15 15-15zm29.613281 209.171875v-52.710938h239.4375v52.710938c0 3.945312.566406 7.753906 1.601562 11.371094h-242.640624c1.035156-3.617188 1.601562-7.425782 1.601562-11.371094zm269.4375 0v-135.421875c0-6.269531 5.097656-11.367187 11.367188-11.367187h53.546874c6.265626 0 11.367188 5.097656 11.367188 11.367187v135.421875c0 6.269531-5.101562 11.371094-11.367188 11.371094h-53.546874c-6.269532 0-11.367188-5.101563-11.367188-11.371094zm56.539062-363.316406 15.679688 64.8125h-68.160156l15.679687-64.8125zm0 0"/>
											<path d="m34.085938 131.320312h253.859374c8.285157 0 15-6.714843 15-15v-101.320312c0-8.285156-6.714843-15-15-15h-253.859374c-8.285157 0-15 6.714844-15 15v101.320312c0 8.285157 6.714843 15 15 15zm15-101.320312h223.859374v71.320312h-223.859374zm0 0"/>
										</svg>
									<?php elseif ($room["icon_id"] == "bathroom_1"): ?>
										<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
											 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
												<path d="M480,170.667h-10.667v-64c0-23.531-19.135-42.667-42.667-42.667S384,83.135,384,106.646l-0.021,10.688
													c-0.01,5.896,4.75,10.677,10.646,10.688c0.01,0,0.01,0,0.01,0c5.896,0,10.667-4.76,10.677-10.646l0.021-10.708
													c0-11.76,9.573-21.333,21.333-21.333S448,94.906,448,106.667v64H32c-17.646,0-32,14.354-32,32
													c0,13.888,8.944,25.617,21.333,30.035v33.965c0,48.961,25.574,91.979,64,116.66v54.007C85.333,443.229,90.104,448,96,448h21.333
													c4.042,0,7.729-2.281,9.542-5.896l18.764-37.52c4.723,0.488,9.512,0.749,14.361,0.749h192c4.849,0,9.638-0.26,14.361-0.749
													l18.764,37.52c1.813,3.615,5.5,5.896,9.542,5.896H416c5.896,0,10.667-4.771,10.667-10.667v-54.007
													c38.426-24.681,64-67.699,64-116.66v-33.965C503.056,228.284,512,216.555,512,202.667C512,185.021,497.646,170.667,480,170.667z
													 M128,192h106.667v104.74L128,278.969V192z M21.333,202.667C21.333,196.781,26.115,192,32,192h74.667v21.333H32
													C26.115,213.333,21.333,208.552,21.333,202.667z M110.74,426.667h-4.073v-32.033c5.549,2.322,11.327,4.168,17.212,5.76
													L110.74,426.667z M405.333,426.667h-4.073l-13.139-26.272c5.884-1.592,11.663-3.439,17.212-5.76V426.667z M469.333,266.667
													C469.333,331.365,416.698,384,352,384H160c-64.698,0-117.333-52.635-117.333-117.333v-32h64V288c0,5.219,3.771,9.667,8.917,10.521
													l128,21.333c0.583,0.094,1.167,0.146,1.75,0.146c2.51,0,4.958-0.885,6.896-2.531c2.396-2.021,3.771-5,3.771-8.135v-74.667h213.333
													V266.667z M480,213.333H256V192h224c5.885,0,10.667,4.781,10.667,10.667C490.667,208.552,485.885,213.333,480,213.333z"/>
										</svg>
									<?php elseif ($room["icon_id"] == "garage_1"): ?>
										<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 316.324 316.323" style="enable-background:new 0 0 316.324 316.323;"
											 xml:space="preserve">
												<path d="M259.337,155.958l-15.143-53.331c-0.736-2.62-2.783-4.662-5.403-5.4c-26.44-7.427-53.907-11.192-81.631-11.192
													c-47.314,0-78.777,10.885-80.098,11.347c-2.396,0.843-4.232,2.804-4.92,5.251l-14.959,53.342
													c-11.987,0.322-21.632,10.176-21.632,22.236v61.428c0,12.264,9.986,22.252,22.251,22.252h2.234v9.664
													c0,12.268,9.986,22.251,22.252,22.251h4.819c12.268,0,22.251-9.983,22.251-22.251v-9.664h100.026v9.664
													c0,12.268,9.983,22.251,22.251,22.251h4.819c12.269,0,22.252-9.983,22.252-22.251v-9.664h0.63
													c12.268,0,22.257-9.988,22.257-22.252V178.21C281.594,165.941,271.611,155.958,259.337,155.958z M265.995,239.638
													c0,3.667-2.986,6.652-6.657,6.652h-8.43c-4.307,0-7.8,3.494-7.8,7.8v17.464c0,3.666-2.986,6.651-6.652,6.651h-4.819
													c-3.666,0-6.651-2.985-6.651-6.651V254.09c0-4.306-3.494-7.8-7.8-7.8H101.554c-4.306,0-7.8,3.494-7.8,7.8v17.464
													c0,3.666-2.986,6.651-6.652,6.651h-4.819c-3.667,0-6.652-2.985-6.652-6.651V254.09c0-4.306-3.494-7.8-7.8-7.8H57.797
													c-3.667,0-6.652-2.985-6.652-6.652V178.21c0-3.666,2.986-6.652,6.652-6.652h5.299c3.499,0,6.566-2.325,7.508-5.697l15.412-54.938
													c9.392-2.734,35.609-9.288,71.145-9.288c24.829,0,49.437,3.184,73.206,9.466l15.361,54.761c0.944,3.366,4.012,5.697,7.511,5.697
													h6.099c3.671,0,6.657,2.986,6.657,6.652V239.638z"/>
												<path d="M85.896,186.065c-13.269,0-24.059,10.791-24.059,24.064c0,13.269,10.791,24.06,24.059,24.06
													c13.271,0,24.06-10.791,24.06-24.06C109.956,196.856,99.167,186.065,85.896,186.065z M85.896,218.59
													c-4.664,0-8.459-3.788-8.459-8.46s3.791-8.465,8.459-8.465c4.669,0,8.46,3.793,8.46,8.465S90.565,218.59,85.896,218.59z"/>
												<path d="M230.428,186.065c-13.269,0-24.06,10.791-24.06,24.064c0,13.269,10.791,24.06,24.06,24.06
													c13.273,0,24.06-10.791,24.06-24.06C254.488,196.856,243.702,186.065,230.428,186.065z M230.428,218.59
													c-4.661,0-8.46-3.788-8.46-8.46s3.793-8.465,8.46-8.465c4.672,0,8.46,3.793,8.46,8.465S235.1,218.59,230.428,218.59z"/>
												<path d="M89.408,172.146h137.512c2.381,0,4.636-1.087,6.108-2.945c1.483-1.868,2.031-4.306,1.488-6.621l-8.876-37.999
													c-0.655-2.785-2.773-4.996-5.535-5.75c-18.778-5.131-39.105-7.731-60.396-7.731c-36.165,0-62.481,7.446-63.589,7.762
													c-2.709,0.782-4.796,2.971-5.441,5.725l-8.871,38.003c-0.541,2.311,0.007,4.753,1.488,6.617
													C84.779,171.06,87.026,172.146,89.408,172.146z M104.794,132.752c8.604-2.009,29.196-6.058,54.916-6.058
													c18.218,0,35.625,2.021,51.813,6.02l5.57,23.836H99.239L104.794,132.752z"/>
												<path d="M312.127,102.805L158.164,22.519L4.197,102.805c-3.816,1.99-5.304,6.703-3.313,10.519
													c1.998,3.829,6.708,5.299,10.521,3.313l146.759-76.527l146.754,76.533c1.157,0.596,2.381,0.883,3.6,0.883
													c2.813,0,5.525-1.523,6.922-4.197C317.429,109.507,315.947,104.795,312.127,102.805z"/>
										</svg>
									<?php endif; ?>
								</div>
								<div class="mainroom__name"><?=$room["name"]?></div>
							</div>
						</div>
						<?php $j++;?>
					<?php endforeach; ?>
				</div>
				<!--end ROOMS -->				
			</div>



			<!-- Change Frame Popup-Menu -->
			<div class="update_block__open popup_block">
				<form action="custom_mnu.js" id="updateFrameForm">
					<h3 class="update_block__header">Update frame</h3>
					<label for="updateframeName">Update Unique FrameID</label><br>
					<input type="text" 
						class="create_frame_input class_input" 
						placeholder="temperature" 
						id="updateframeName"
						required 
						maxlength="20"> 

					<br><br>

					<label for="updateframeIP">Device IP</label><br>
					<input type="text" 
						class="create_frame_input ip_input" 
						placeholder="192.160.0.0" 
						id="updateframeIP" 
						required 
						pattern="\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b">

					<br><br>

					<input type="submit" name="updateFrameButton" value="Update" class="btn update_frame_btn">
					<input type="reset" name="cancelUpdateFrame" value="Reset" class="btn cancel_frame_btn">
				</form>
				
			</div>
			<!-- /end change frame popup -->

			<!-- invis input to get last clicked block type, id and filename -->
			<input type="text" value="" id="lastFrameValue" style="display: none">
			<input type="text" value="" id="lastBlockType" style="display: none">
			<input type="text" value="" id="lastFileName" style="display: none;">
			<!--  -->

			<!-- invis unput to get page style -->
			<input type="text" value="classic" id="pageStyle" style="display: none;">
		</div>
	</div>

	<!-- /блоков -->

	<!-- Custom context menu -->
	<ul class="custom-menu" id="frameContextMnu">
		<li data-action="add" class="custom-menu__item" id="addFrameItem">
			<svg width="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
				 viewBox="0 0 352.4 352.4" style="enable-background:new 0 0 352.4 352.4;" xml:space="preserve">
				<g>
					<path d="M332.6,16.4C322.2,6,308.2,0,292.6,0h-54v21.6h53.6c9.6,0,18.4,4,24.8,10.4c6.4,6.4,10.4,15.2,10.4,24.8V114H349V56.4
						C349,40.8,342.6,26.8,332.6,16.4z"/>
					<path d="M35.4,320C29,313.6,25,304.8,25,295.2v-56.8H3.4v57.2c0,15.6,6.4,29.6,16.4,40c10.8,10,24.8,16.4,40.4,16.4h53.6v-21.6
						H60.2C50.6,330.4,41.8,326.4,35.4,320z"/>
					<path d="M327,295.6c0,9.6-4,18.4-10.4,24.8c-6.4,6.4-15.2,10.4-24.8,10.4h-53.2v21.6h53.6c15.6,0,29.6-6.4,40-16.4
						c10.4-10.4,16.4-24.4,16.4-40v-57.6H327V295.6z"/>
					<path d="M20.2,16.4C9.8,26.8,3.8,40.8,3.8,56.4v57.2h21.6V56.4c0-9.6,4-18.4,10.4-24.8c6.4-6.4,15.2-10.4,24.8-10.4h53.6V0h-54
						C44.6,0,30.6,6.4,20.2,16.4z"/>
				</g>
			</svg>
			<div class="custom-menu__text">Add Frame</div>
		</li>
		<li data-action="addRoom" class="custom-menu__item" id="addRoomItem">
			<svg width="30px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" 
				xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 316.324 316.323" style="enable-background:new 0 0 316.324 316.323;"
				 xml:space="preserve">
					<path d="M259.337,155.958l-15.143-53.331c-0.736-2.62-2.783-4.662-5.403-5.4c-26.44-7.427-53.907-11.192-81.631-11.192
						c-47.314,0-78.777,10.885-80.098,11.347c-2.396,0.843-4.232,2.804-4.92,5.251l-14.959,53.342
						c-11.987,0.322-21.632,10.176-21.632,22.236v61.428c0,12.264,9.986,22.252,22.251,22.252h2.234v9.664
						c0,12.268,9.986,22.251,22.252,22.251h4.819c12.268,0,22.251-9.983,22.251-22.251v-9.664h100.026v9.664
						c0,12.268,9.983,22.251,22.251,22.251h4.819c12.269,0,22.252-9.983,22.252-22.251v-9.664h0.63
						c12.268,0,22.257-9.988,22.257-22.252V178.21C281.594,165.941,271.611,155.958,259.337,155.958z M265.995,239.638
						c0,3.667-2.986,6.652-6.657,6.652h-8.43c-4.307,0-7.8,3.494-7.8,7.8v17.464c0,3.666-2.986,6.651-6.652,6.651h-4.819
						c-3.666,0-6.651-2.985-6.651-6.651V254.09c0-4.306-3.494-7.8-7.8-7.8H101.554c-4.306,0-7.8,3.494-7.8,7.8v17.464
						c0,3.666-2.986,6.651-6.652,6.651h-4.819c-3.667,0-6.652-2.985-6.652-6.651V254.09c0-4.306-3.494-7.8-7.8-7.8H57.797
						c-3.667,0-6.652-2.985-6.652-6.652V178.21c0-3.666,2.986-6.652,6.652-6.652h5.299c3.499,0,6.566-2.325,7.508-5.697l15.412-54.938
						c9.392-2.734,35.609-9.288,71.145-9.288c24.829,0,49.437,3.184,73.206,9.466l15.361,54.761c0.944,3.366,4.012,5.697,7.511,5.697
						h6.099c3.671,0,6.657,2.986,6.657,6.652V239.638z"/>
					<path d="M85.896,186.065c-13.269,0-24.059,10.791-24.059,24.064c0,13.269,10.791,24.06,24.059,24.06
						c13.271,0,24.06-10.791,24.06-24.06C109.956,196.856,99.167,186.065,85.896,186.065z M85.896,218.59
						c-4.664,0-8.459-3.788-8.459-8.46s3.791-8.465,8.459-8.465c4.669,0,8.46,3.793,8.46,8.465S90.565,218.59,85.896,218.59z"/>
					<path d="M230.428,186.065c-13.269,0-24.06,10.791-24.06,24.064c0,13.269,10.791,24.06,24.06,24.06
						c13.273,0,24.06-10.791,24.06-24.06C254.488,196.856,243.702,186.065,230.428,186.065z M230.428,218.59
						c-4.661,0-8.46-3.788-8.46-8.46s3.793-8.465,8.46-8.465c4.672,0,8.46,3.793,8.46,8.465S235.1,218.59,230.428,218.59z"/>
					<path d="M89.408,172.146h137.512c2.381,0,4.636-1.087,6.108-2.945c1.483-1.868,2.031-4.306,1.488-6.621l-8.876-37.999
						c-0.655-2.785-2.773-4.996-5.535-5.75c-18.778-5.131-39.105-7.731-60.396-7.731c-36.165,0-62.481,7.446-63.589,7.762
						c-2.709,0.782-4.796,2.971-5.441,5.725l-8.871,38.003c-0.541,2.311,0.007,4.753,1.488,6.617
						C84.779,171.06,87.026,172.146,89.408,172.146z M104.794,132.752c8.604-2.009,29.196-6.058,54.916-6.058
						c18.218,0,35.625,2.021,51.813,6.02l5.57,23.836H99.239L104.794,132.752z"/>
					<path d="M312.127,102.805L158.164,22.519L4.197,102.805c-3.816,1.99-5.304,6.703-3.313,10.519
						c1.998,3.829,6.708,5.299,10.521,3.313l146.759-76.527l146.754,76.533c1.157,0.596,2.381,0.883,3.6,0.883
						c2.813,0,5.525-1.523,6.922-4.197C317.429,109.507,315.947,104.795,312.127,102.805z"/>
			</svg>
			<div class="custom-menu__text">Add Room</div>
		</li>
		<li data-action="change" class="custom-menu__item iframe_custom" id="changeFrameItem">
			<svg width="20px" viewBox="0 0 512 511" xmlns="http://www.w3.org/2000/svg">
				<path d="m405.332031 256.484375c-11.796875 0-21.332031 9.558594-21.332031 21.332031v170.667969c0 11.753906-9.558594 21.332031-21.332031 21.332031h-298.667969c-11.777344 0-21.332031-9.578125-21.332031-21.332031v-298.667969c0-11.753906 9.554687-21.332031 21.332031-21.332031h170.667969c11.796875 0 21.332031-9.558594 21.332031-21.332031 0-11.777344-9.535156-21.335938-21.332031-21.335938h-170.667969c-35.285156 0-64 28.714844-64 64v298.667969c0 35.285156 28.714844 64 64 64h298.667969c35.285156 0 64-28.714844 64-64v-170.667969c0-11.796875-9.539063-21.332031-21.335938-21.332031zm0 0"/>
				<path d="m200.019531 237.050781c-1.492187 1.492188-2.496093 3.390625-2.921875 5.4375l-15.082031 75.4375c-.703125 3.496094.40625 7.101563 2.921875 9.640625 2.027344 2.027344 4.757812 3.113282 7.554688 3.113282.679687 0 1.386718-.0625 2.089843-.210938l75.414063-15.082031c2.089844-.429688 3.988281-1.429688 5.460937-2.925781l168.789063-168.789063-75.414063-75.410156zm0 0"/>
				<path d="m496.382812 16.101562c-20.796874-20.800781-54.632812-20.800781-75.414062 0l-29.523438 29.523438 75.414063 75.414062 29.523437-29.527343c10.070313-10.046875 15.617188-23.445313 15.617188-37.695313s-5.546875-27.648437-15.617188-37.714844zm0 0"/>
			</svg>
			<div class="custom-menu__text">Change Frame</div>
		</li>
		<li data-action="changeRoom" class="custom-menu__item room_custom" id="changeRoomItem">
			<svg width="20px" viewBox="0 0 512 511" xmlns="http://www.w3.org/2000/svg">
				<path d="m405.332031 256.484375c-11.796875 0-21.332031 9.558594-21.332031 21.332031v170.667969c0 11.753906-9.558594 21.332031-21.332031 21.332031h-298.667969c-11.777344 0-21.332031-9.578125-21.332031-21.332031v-298.667969c0-11.753906 9.554687-21.332031 21.332031-21.332031h170.667969c11.796875 0 21.332031-9.558594 21.332031-21.332031 0-11.777344-9.535156-21.335938-21.332031-21.335938h-170.667969c-35.285156 0-64 28.714844-64 64v298.667969c0 35.285156 28.714844 64 64 64h298.667969c35.285156 0 64-28.714844 64-64v-170.667969c0-11.796875-9.539063-21.332031-21.335938-21.332031zm0 0"/>
				<path d="m200.019531 237.050781c-1.492187 1.492188-2.496093 3.390625-2.921875 5.4375l-15.082031 75.4375c-.703125 3.496094.40625 7.101563 2.921875 9.640625 2.027344 2.027344 4.757812 3.113282 7.554688 3.113282.679687 0 1.386718-.0625 2.089843-.210938l75.414063-15.082031c2.089844-.429688 3.988281-1.429688 5.460937-2.925781l168.789063-168.789063-75.414063-75.410156zm0 0"/>
				<path d="m496.382812 16.101562c-20.796874-20.800781-54.632812-20.800781-75.414062 0l-29.523438 29.523438 75.414063 75.414062 29.523437-29.527343c10.070313-10.046875 15.617188-23.445313 15.617188-37.695313s-5.546875-27.648437-15.617188-37.714844zm0 0"/>
			</svg>
			<div class="custom-menu__text">Change Room</div>
		</li>
		<li data-action="delete" class="custom-menu__item content_block_custom" id="deleteFrameItem">
			<svg width="20px" viewBox="-57 0 512 512" xmlns="http://www.w3.org/2000/svg">
				<path d="m156.371094 30.90625h85.570312v14.398438h30.902344v-16.414063c.003906-15.929687-12.949219-28.890625-28.871094-28.890625h-89.632812c-15.921875 0-28.875 12.960938-28.875 28.890625v16.414063h30.90625zm0 0"/>
				<path d="m344.210938 167.75h-290.109376c-7.949218 0-14.207031 6.78125-13.566406 14.707031l24.253906 299.90625c1.351563 16.742188 15.316407 29.636719 32.09375 29.636719h204.542969c16.777344 0 30.742188-12.894531 32.09375-29.640625l24.253907-299.902344c.644531-7.925781-5.613282-14.707031-13.5625-14.707031zm-219.863282 312.261719c-.324218.019531-.648437.03125-.96875.03125-8.101562 0-14.902344-6.308594-15.40625-14.503907l-15.199218-246.207031c-.523438-8.519531 5.957031-15.851562 14.472656-16.375 8.488281-.515625 15.851562 5.949219 16.375 14.472657l15.195312 246.207031c.527344 8.519531-5.953125 15.847656-14.46875 16.375zm90.433594-15.421875c0 8.53125-6.917969 15.449218-15.453125 15.449218s-15.453125-6.917968-15.453125-15.449218v-246.210938c0-8.535156 6.917969-15.453125 15.453125-15.453125 8.53125 0 15.453125 6.917969 15.453125 15.453125zm90.757812-245.300782-14.511718 246.207032c-.480469 8.210937-7.292969 14.542968-15.410156 14.542968-.304688 0-.613282-.007812-.921876-.023437-8.519531-.503906-15.019531-7.816406-14.515624-16.335937l14.507812-246.210938c.5-8.519531 7.789062-15.019531 16.332031-14.515625 8.519531.5 15.019531 7.816406 14.519531 16.335937zm0 0"/><path d="m397.648438 120.0625-10.148438-30.421875c-2.675781-8.019531-10.183594-13.429687-18.640625-13.429687h-339.410156c-8.453125 0-15.964844 5.410156-18.636719 13.429687l-10.148438 30.421875c-1.957031 5.867188.589844 11.851562 5.34375 14.835938 1.9375 1.214843 4.230469 1.945312 6.75 1.945312h372.796876c2.519531 0 4.816406-.730469 6.75-1.949219 4.753906-2.984375 7.300781-8.96875 5.34375-14.832031zm0 0"/>
			</svg>
			<div class="custom-menu__text">Delete</div>
		</li>
	</ul>
	<!--  -->

	<script>
		$("document").ready(function() {
			// $(".content .drag").draggable({
			// 	// revert: true
			// 	containment: ".content",
			// 	cursor: "move",
			// 	// grid: [20, 20] //перемещение вдоль сетки с блоками [x*y]
			// });

			// change blcok size
			var size = JSON.parse(localStorage.size || "{}");

			$.each(size, function (id, siz) {
				$("#" + id).css(siz)
			})

			$('.resizable_content').resizable({
				containment: ".content",
				scroll: true,
				stop: function (event, ui) {
					size[this.id] = ui.size
					localStorage.size = JSON.stringify(size)
				}
			});

			//--------------------

			//сохранять позицию элемента в LocalStorage
			var sPositions = localStorage.positions || "{}",
				positions = JSON.parse(sPositions);
			$.each(positions, function (id, pos) {
				$("#" + id).css(pos)
			})
			$(".drag").draggable({
				containment: ".content",
				scroll: false,
				stop: function (event, ui) {
					// console.log( $("#" + this.id) );
					// console.log(this.id);
					positions[this.id] = ui.position
					localStorage.positions = JSON.stringify(positions)
				}
			});
			//-------------------------


			// $(".content").sortable({
			// 	update: function() {
			// 		var sortedItems = $('.content').sortable("toArray");
			// 	}
			// 	// sort: function(event, ui) {
			// 	// }
			// });

			// $('.content').sortable({
			// 	sort: function(event, ui) {
			// 		$('#itemId').text(ui.item.attr("id"))
			// 	},
			// 	// change: function(event, ui) {
			// 	// 	$('#pos').text($('#flowerContainer *').index(ui.placeholder))
			// 	// }
			// });


			// $(".drop").droppable({
			// 	accept: '.drag',
			// 	over: function(event, ui) {

			// 	},
			// 	drop: function(event, ui) {
			// 		$(this).css('background-color', "green");

			// 		// var left1 = $(this).position().left;
			// 		// var left2 = ui.draggable.position().left;

			// 		// $(this).css("left",(left2 + (((left1>left2)?(+1):(-1))*ui.draggable.width()))+"px");
			// 		//TODO: думаю имеет смыст переосмыслить позиции у всех элементов контейнера

			// 		// $(this).append($(ui.draggable));
			// 	}
			// });
		});
	</script>

	<script src="weather.js"></script>
	<script src="create_frame.js"></script> 
	<!-- custom menu js -->
	<script src="custom_mnu.js"></script>
	<!-- clock frame -->
	<script src="clock.js"></script>
	<!-- create new room -->
	<script src="create_room.js"></script>
	<!-- change page theme -->
	<script src="css/style_change.js"></script>
</body>
</html>